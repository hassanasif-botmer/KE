<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karachi Energy Monitoring System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/recharts@2.8.0/umd/Recharts.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#F59E0B',
                    }
                }
            }
        };
    </script>
</head>
<body class="bg-gray-50 font-inter">
    <!-- @COMPONENT: Layout [Main layout wrapper] -->
    <div class="flex h-screen overflow-hidden">
        
        <!-- @COMPONENT: Sidebar [Navigation sidebar] -->
        <div class="flex-shrink-0 w-64 bg-white shadow-md">
            <div class="flex flex-col h-full">
                <!-- Logo/Title -->
                <div class="px-6 py-4 border-b border-gray-200">
                    <div class="flex items-center">
                        <!-- @ICON: Lightning bolt for energy theme -->
                        <svg class="w-8 h-8 text-primary mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        <div>
                            <h1 class="text-lg font-semibold text-gray-900">KHI Energy</h1>
                            <p class="text-xs text-gray-500">Monitoring System</p>
                        </div>
                    </div>
                </div>

                <!-- Navigation Menu -->
                <nav class="flex-1 px-4 py-6">
                    <ul class="space-y-2">
                        <li>
                            <a href="#" onclick="showPage('dashboard')" data-page="dashboard" 
                               class="nav-link bg-primary text-white flex items-center px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200 hover:bg-primary/90">
                                <!-- @ICON: Dashboard icon -->
                                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path>
                                </svg>
                                Dashboard
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showPage('energy')" data-page="energy"
                               class="nav-link text-gray-600 hover:text-gray-900 hover:bg-gray-100 flex items-center px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200">
                                <!-- @ICON: Energy units icon -->
                                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                                Energy Units
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showPage('temperature')" data-page="temperature"
                               class="nav-link text-gray-600 hover:text-gray-900 hover:bg-gray-100 flex items-center px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200">
                                <!-- @ICON: Temperature monitoring icon -->
                                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                Temperature Monitoring
                            </a>
                        </li>
                        <li>
                            <a href="#" onclick="showPage('billing')" data-page="billing"
                               class="nav-link text-gray-600 hover:text-gray-900 hover:bg-gray-100 flex items-center px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200">
                                <!-- @ICON: KE Billing icon -->
                                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                </svg>
                                KE Billing
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <!-- @END_COMPONENT: Sidebar -->

        <!-- @COMPONENT: MainContent [Main content area] -->
        <div class="flex-1 flex flex-col overflow-hidden">
            
            <!-- @COMPONENT: TopNavbar [Top navigation bar] -->
            <header class="bg-white shadow-sm border-b border-gray-200 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Karachi Energy Monitoring System</h1>
                        <p class="text-sm text-gray-500 mt-1">Real-time energy consumption and billing analysis</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <!-- Status indicator -->
                        <div class="flex items-center">
                            <div class="w-3 h-3 bg-secondary rounded-full mr-2"></div>
                            <span class="text-sm text-gray-600">System Online</span>
                        </div>
                        <!-- Current time -->
                        <div class="text-sm text-gray-500" id="currentTime">
                            <!-- @STATE: currentTime:string -->
                        </div>
                    </div>
                </div>
            </header>
            <!-- @END_COMPONENT: TopNavbar -->

            <!-- @COMPONENT: PageContent [Dynamic page content] -->
            <main class="flex-1 overflow-y-auto bg-gray-50 p-6">
                
                <!-- @COMPONENT: DashboardPage [Dashboard home page] -->
                <div id="dashboard-page" class="page-content">
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-2">Dashboard Overview</h2>
                        <p class="text-gray-600">Monitor your energy consumption and costs in real-time</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <!-- @COMPONENT: StatsCard [Total Units Consumed] -->
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                                        <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-600">Total Units This Month</p>
                                    <p class="text-2xl font-bold text-gray-900" data-bind="monthlyUnits">1,247</p>
                                    <p class="text-xs text-secondary">+12% from last month</p>
                                </div>
                            </div>
                        </div>

                        <!-- @COMPONENT: StatsCard [Estimated Bill] -->
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center">
                                        <svg class="w-6 h-6 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-600">Estimated KE Bill</p>
                                    <p class="text-2xl font-bold text-gray-900" data-bind="estimatedBill">PKR 18,450</p>
                                    <p class="text-xs text-accent">Based on current usage</p>
                                </div>
                            </div>
                        </div>

                        <!-- @COMPONENT: StatsCard [Current Temperature] -->
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                                        <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l4-4v10l4-4v13a4 4 0 01-8 0z"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-600">Room Temperature</p>
                                    <p class="text-2xl font-bold text-gray-900" data-bind="currentTemp">28.5°C</p>
                                    <p class="text-xs text-gray-500">Optimal range</p>
                                </div>
                            </div>
                        </div>

                        <!-- @COMPONENT: StatsCard [Today's Consumption] -->
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center">
                                        <svg class="w-6 h-6 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-600">Today's Usage</p>
                                    <p class="text-2xl font-bold text-gray-900" data-bind="todayUsage">42.3 kWh</p>
                                    <p class="text-xs text-secondary">Within budget</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- @COMPONENT: EnergyConsumptionChart [Real-time line chart] -->
                        <div class="lg:col-span-2 bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <div class="flex items-center justify-between mb-6">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-900">Real-time Electricity Consumption</h3>
                                    <p class="text-sm text-gray-500">Last 24 hours</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-primary rounded-full"></div>
                                    <span class="text-sm text-gray-600">kWh</span>
                                </div>
                            </div>
                            <div class="h-80" id="consumption-chart">
                                <!-- @CHART: Recharts LineChart for real-time consumption -->
                                <!-- @FUNCTIONALITY: Should display real-time energy consumption data using Recharts -->
                            </div>
                        </div>

                        <!-- @COMPONENT: TemperatureSparkline [Mini temperature chart] -->
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <div class="mb-6">
                                <h3 class="text-lg font-semibold text-gray-900">Temperature Trend</h3>
                                <p class="text-sm text-gray-500">Last 12 hours</p>
                            </div>
                            <div class="text-center mb-4">
                                <div class="text-3xl font-bold text-gray-900" data-bind="currentTemp">28.5°C</div>
                                <div class="text-sm text-gray-500">Current Temperature</div>
                            </div>
                            <div class="h-32" id="temperature-sparkline">
                                <!-- @CHART: Recharts AreaChart for temperature sparkline -->
                                <!-- @FUNCTIONALITY: Should display temperature trend using Recharts -->
                            </div>
                            <div class="mt-4 flex justify-between text-xs text-gray-500">
                                <span>Min: 26.2°C</span>
                                <span>Max: 30.1°C</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: DashboardPage -->

                <!-- @COMPONENT: EnergyPage [Energy Units page] -->
                <div id="energy-page" class="page-content hidden">
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-2">Energy Units Analysis</h2>
                        <p class="text-gray-600">Detailed breakdown of energy consumption patterns</p>
                    </div>

                    <!-- Energy Overview Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <h3 class="text-sm font-medium text-gray-600 mb-2">Peak Hours Usage</h3>
                            <p class="text-2xl font-bold text-gray-900">156.7 kWh</p>
                            <p class="text-xs text-red-600">+8% increase</p>
                        </div>
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <h3 class="text-sm font-medium text-gray-600 mb-2">Off-Peak Usage</h3>
                            <p class="text-2xl font-bold text-gray-900">892.1 kWh</p>
                            <p class="text-xs text-secondary">-3% decrease</p>
                        </div>
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <h3 class="text-sm font-medium text-gray-600 mb-2">Average Daily</h3>
                            <p class="text-2xl font-bold text-gray-900">41.5 kWh</p>
                            <p class="text-xs text-gray-500">Stable</p>
                        </div>
                    </div>

                    <!-- Energy Consumption Details -->
                    <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-900 mb-6">Daily Energy Consumption</h3>
                        <div class="h-96" id="energy-bar-chart">
                            <!-- @CHART: Recharts BarChart for daily consumption -->
                            <!-- @FUNCTIONALITY: Should display daily energy consumption using Recharts -->
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: EnergyPage -->

                <!-- @COMPONENT: TemperaturePage [Temperature monitoring page] -->
                <div id="temperature-page" class="page-content hidden">
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-2">Temperature Monitoring</h2>
                        <p class="text-gray-600">Room temperature analysis and historical data</p>
                    </div>

                    <!-- Temperature Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200 text-center">
                            <div class="text-3xl font-bold text-gray-900 mb-2" data-bind="currentTemp">28.5°C</div>
                            <p class="text-sm text-gray-600">Current Temperature</p>
                        </div>
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200 text-center">
                            <div class="text-3xl font-bold text-red-600 mb-2">30.1°C</div>
                            <p class="text-sm text-gray-600">Today's High</p>
                        </div>
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200 text-center">
                            <div class="text-3xl font-bold text-blue-600 mb-2">26.2°C</div>
                            <p class="text-sm text-gray-600">Today's Low</p>
                        </div>
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200 text-center">
                            <div class="text-3xl font-bold text-gray-900 mb-2">28.1°C</div>
                            <p class="text-sm text-gray-600">24hr Average</p>
                        </div>
                    </div>

                    <!-- Temperature History Chart -->
                    <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-900 mb-6">Temperature History - Last 24 Hours</h3>
                        <div class="h-96" id="temperature-history-chart">
                            <!-- @CHART: Recharts LineChart for 24-hour temperature history -->
                            <!-- @FUNCTIONALITY: Should display 24-hour temperature data using Recharts -->
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: TemperaturePage -->

                <!-- @COMPONENT: BillingPage [KE Billing page] -->
                <div id="billing-page" class="page-content hidden">
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-2">KE Billing Analysis</h2>
                        <p class="text-gray-600">Detailed billing breakdown and tariff analysis</p>
                    </div>

                    <!-- Billing Overview -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        <!-- Daily Consumption Chart -->
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-900 mb-6">Daily Unit Consumption</h3>
                            <div class="h-64" id="billing-bar-chart">
                                <!-- @CHART: Recharts BarChart for daily billing consumption -->
                                <!-- @FUNCTIONALITY: Should display daily consumption for billing using Recharts -->
                            </div>
                        </div>

                        <!-- Current Bill Estimate -->
                        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-900 mb-6">Current Month Estimate</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                    <span class="font-medium text-gray-900">Total Units</span>
                                    <span class="text-lg font-bold" data-bind="totalUnits">1,247 kWh</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                    <span class="font-medium text-gray-900">Base Charges</span>
                                    <span class="text-lg font-bold">PKR 15,680</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                    <span class="font-medium text-gray-900">Taxes & Fees</span>
                                    <span class="text-lg font-bold">PKR 2,770</span>
                                </div>
                                <div class="border-t border-gray-200 pt-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-lg font-semibold text-gray-900">Total Estimated Bill</span>
                                        <span class="text-xl font-bold text-accent" data-bind="totalBill">PKR 18,450</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- KE Tariff Slabs -->
                    <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-900 mb-6">KE Tariff Slabs Breakdown</h3>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Slab</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Units Range</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rate per kWh</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Units Used</th>
                                        <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" data-mock="true">
                                    <!-- @MAP: tariffSlabs.map(slab => ( -->
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Slab 1</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1-100 kWh</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">PKR 5.79</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">100</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-right">PKR 579</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Slab 2</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">101-200 kWh</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">PKR 8.11</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">100</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-right">PKR 811</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Slab 3</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">201-300 kWh</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">PKR 10.20</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">100</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-right">PKR 1,020</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Slab 4</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">301+ kWh</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">PKR 17.60</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">847</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-right">PKR 14,907</td>
                                    </tr>
                                    <!-- @END_MAP )) -->
                                </tbody>
                                <tfoot class="bg-gray-50">
                                    <tr>
                                        <td colspan="4" class="px-6 py-4 text-sm font-semibold text-gray-900">Total Energy Charges</td>
                                        <td class="px-6 py-4 text-sm font-bold text-gray-900 text-right">PKR 17,317</td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: BillingPage -->

            </main>
            <!-- @END_COMPONENT: PageContent -->

        </div>
        <!-- @END_COMPONENT: MainContent -->

    </div>
    <!-- @END_COMPONENT: Layout -->

    <script>
        // TODO: Implement business logic, API calls, and state management
        
        (function() {
            // Page navigation functionality
            function showPage(pageId) {
                // Hide all pages
                const pages = document.querySelectorAll('.page-content');
                pages.forEach(page => page.classList.add('hidden'));
                
                // Show selected page
                const targetPage = document.getElementById(pageId + '-page');
                if (targetPage) {
                    targetPage.classList.remove('hidden');
                }
                
                // Update navigation active state
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.classList.remove('bg-primary', 'text-white');
                    link.classList.add('text-gray-600', 'hover:text-gray-900', 'hover:bg-gray-100');
                });
                
                const activeLink = document.querySelector(`[data-page="${pageId}"]`);
                if (activeLink) {
                    activeLink.classList.add('bg-primary', 'text-white');
                    activeLink.classList.remove('text-gray-600', 'hover:text-gray-900', 'hover:bg-gray-100');
                }
            }
            
            // Update current time
            function updateTime() {
                const now = new Date();
                const timeStr = now.toLocaleTimeString('en-US', { 
                    hour12: true, 
                    hour: 'numeric', 
                    minute: '2-digit' 
                });
                const timeElement = document.getElementById('currentTime');
                if (timeElement) {
                    timeElement.textContent = timeStr;
                }
            }
            
            // Initialize charts (mock implementation)
            function initializeCharts() {
                // Mock data for demonstration
                const consumptionData = [
                    { time: '00:00', consumption: 2.1 },
                    { time: '04:00', consumption: 1.8 },
                    { time: '08:00', consumption: 3.2 },
                    { time: '12:00', consumption: 4.1 },
                    { time: '16:00', consumption: 3.8 },
                    { time: '20:00', consumption: 4.5 },
                    { time: '24:00', consumption: 2.8 }
                ];
                
                const temperatureData = [
                    { time: '00:00', temp: 26.5 },
                    { time: '06:00', temp: 25.8 },
                    { time: '12:00', temp: 29.2 },
                    { time: '18:00', temp: 30.1 },
                    { time: '24:00', temp: 28.5 }
                ];
                
                // Note: In a real implementation, these would be Recharts components
                console.log('Charts would be initialized here with Recharts');
                console.log('Consumption data:', consumptionData);
                console.log('Temperature data:', temperatureData);
            }
            
            // Initialize the application
            function init() {
                // Set up global event handlers
                window.showPage = showPage;
                
                // Initialize with dashboard
                showPage('dashboard');
                
                // Start time updates
                updateTime();
                setInterval(updateTime, 60000); // Update every minute
                
                // Initialize charts
                initializeCharts();
            }
            
            // Start the application when DOM is loaded
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                init();
            }
        })();
    </script>
</body>
</html>